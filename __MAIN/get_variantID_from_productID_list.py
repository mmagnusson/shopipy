import requests
from time import sleep

#Insert the results of 'get250most-recent_productID_title_created_at.py' into the prod_id list after removing the unneeded data
#Run this script in Powershell and direct the Print output to a file with today's date

#boilerplate
SHOPIFY_API_KEY = ''
SHOPIFY_API_PASSWORD = ''
headers = {'Content-type': 'application/json', 'Accept': 'application/json'}
auth1 = 'SHOPIFY_API_KEY, SHOPIFY_API_PASSWORD'

#url construction
url_1 = 'https://storename.myshopify.com/admin/products/'
url_2 = '/variants.json?fields=id'

#product_ids needed for middle of URL 
prod_id = [428434477,428434473,428434469,428434465,428434461,428434453,428434449,428434445,428434441,428434433,428434429,428434425,428434421,428434417,428434413,428434409,428434401,428434397,428434393,428434381,428434377,428434369,428434361,428434357,428434353,428434349,428434345,428434341,428434333,428434329,428434325,428434321,428434317,428434309,428434305,428434301,428434297,428434293,428434289,428434285,428434281,428434277,428434273,428434269,428434265,428434261,428434257,428434253,428434249,428434245,428434241,428434237,428434233,428434225,428434221,428434217,428434213,428434209,428434205,428434201,428434193,428434189,428434185,428434181,428434173,428434169,428434165,428434161,428434157,428434153,428434149,428434145,428434137,428434133,428434129,428434125,428434121,428434117,428434113,428434105,428434101,428434097,428434093,428434089,428434085,428434081,428434077,428434073,428434069,428434065,428434061,428434057,428434053,428434049,428434041,428434037,428434033,428434029,428434025,428434021,428434013,428434001,428433993,428433989,428433985,428433981,428433973,428433969,428433965,428433961,428433957,428433953,428433949,428433945,428433941,428433933,428433929,428433925,428433921,428433917,428433913,428433905,428433901,428433897,428433893,428433889,428433885,428433877,428433873,428433869,428433865,428433861,428433857,428433853,428433849,428433845,428433841,428433837,428433833,428433829,428433825,428433821,428433817,428433813,428433809,428433805,428433801,428433793,428433789,428433785,428433781,428433777,428433773,428433769,428433761,428433757,428433753,428433749,428433745,428433737,428433733,428433729,428433725,428433721,428433717,428433713,428433705,428433701,428433697,428433693,428433689,428433685,428433677,428433673,428433665,428433661,428433657,428433653,428433649,428433645,428433641,428433637,428433633,428433629,428433625,428433621,428433617,428433613,428433609,428433605,428433597,428433593,428433589,428433585,428433581,428433573,428433569,428433565,428433561,428433557,428433549,428433545,428433541,428433537,428433533,428433529,428433521,428433517,428433513,428433509,428433505,428433497,428433493,428433489,428433485,428433481,428433477,428433473,428433465,428433461,428433457,428433453,428433449,428433445,428433441,428433437,428433433,428433429,428433425,428433417,428433413,428433409,428433405,428433401,428433397,428433393,428433389,428433385,428433377,428433373,428433369,428433365,428433361,428433357,428433349,428433345,428433341,428433337,428433333,428433329,428433325,428433317,428433313,428433309,428433305,428433301,428433297,428433285,428433277,428433273,428433269,428433265,428433261,428433257,428433253,428433249,428433245,428433241,428433233,428433229,428433225,428433221,428433213,428433209,428433205,428433201,428433197,428433193,428433185,428433181,428433177,428433173,428433169,428433161,428433157,428433153,428433149,428433145,428433141,428433133,428433129,428433125,428433121,428433117,428433113,428433105,428433101,428433097,428433093,428433089,428433085,428433081,428433077,428433073,428433065,428433061,428433057,428433053,428433049,428433045,428433041,428433037,428433029,428433025,428433021,428433017,428433013,428433009,428433001,428432997,428432993,428432989,428432985,428432981,428432973,428432969,428432965,428432961,428432957,428432953,428432949,428432941,428432937,428432933,428432929,428432925,428432921,428432917,428432909,428432905,428432897,428432893,428432889,428432885,428432881,428432877,428432873,428432869,428432865,428432861,428432857,428432853,428432849,428432845,428432841,428432833,428432829,428432825,428432821,428432817,428432813,428432809,428432801,428432797,428432789,428432785,428432781,428432777,428432769,428432765,428432761,428432757,428432753,428432745,428432737,428432733,428432729,428432725,428432721,428432713,428432709,428432705,428432701,428432697,428432693,428432689,428432685,428432681,428432677,428432673,428432669,428432665,428432661,428432657,428432653,428432649,428432641,428432637,428432633,428432629,428432625,428432617,428432613,428432609,428432605,428432601,428432597,428432593,428432585,428432581,428432577,428432573,428432569,428432565,428432557,428432553,428432549,428432545,428432541,428432533,428432529,428432525,428432521,428432517,428432513,428432509,428432505,428432501,428432497,428432493,428432489,428432485,428432477,428432473,428432469,428432465,428432461,428432457,428432449,428432445,428432441,428432437,428432433,428432429,428432421,428432417,428432413,428432409,428432405,428432401,428432397,428432393,428432385,428432381,428432377,428432373,428432369,428432365,428432357,428432353,428432349,428432345,428432341,428432333,428432329,428432325,428432321,428432317,428432313,428432309,428432305,428432301,428432297,428432293,428432285,428432281,428432277,428432273,428432269,428432265,428432261,428432253,428432249,428432245,428432241,428432237,428432233,428432225,428432221,428432217,428432213,428432209,428432205,428432201,]

#empty results list
variant_ids = []

for id in prod_id:
    full_url = url_1 + str(id) + url_2
    response = requests.get(url=(full_url),headers=headers, auth=(SHOPIFY_API_KEY,SHOPIFY_API_PASSWORD))
    variant_ids.append(response.text)
    sleep(1)


print(variant_ids)
















#structure of the call, just for reference
#response = requests.get('https://ims-fba-inventory.myshopify.com/admin/
#products
#/
#397067665
#/
#variants
#.json?fields=id
#',headers=headers, auth=(SHOPIFY_API_KEY,SHOPIFY_API_PASSWORD))

#VARIANT.txt
